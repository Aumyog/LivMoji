# LivMoji

An iOS app that applies visual effects to photos using Core Image and simple animations.

## What It Does

- **Photo Filtering**: Applies visual effects to photos using Core Image filters
- **Face Detection**: Optional face detection using Vision framework (doesn't require a face to work)
- **Animations**: Two simple animation types (bounce and wave) for filtered images
- **Export**: Export filtered images as GIF, MP4, or PNG

## Technical Stack

- **SwiftUI**: Modern declarative UI framework
- **Core Image**: Image filtering using built-in filters (CIBilateralFilter, CIVibrance, CIGaussianBlur, CITemperatureAndTint)
- **Vision Framework**: Optional face detection
- **AVFoundation**: Video/GIF export
- **Swift Concurrency**: Async/await for image processing

## Architecture

- **MVVM Pattern**: Clean separation between views and business logic
- **Service Layer**: Separate services for image filtering, face detection, and animation

## Project Structure

```
LiveMoji/
├── LiveMoji/
│   ├── LiveMojiApp.swift              # App entry point
│   ├── Models/
│   │   └── LiveMojiModels.swift       # Data models
│   ├── Views/
│   │   ├── ContentView.swift          # Tab navigation
│   │   ├── EmojiCreationView.swift    # Filter interface
│   │   ├── EmojiGalleryView.swift     # Gallery & export
│   │   └── SettingsView.swift         # Settings
│   ├── ViewModels/
│   │   └── LiveMojiViewModel.swift    # Business logic
│   ├── Utilities/
│   │   ├── ImagePicker.swift          # Camera/photo library
│   │   ├── ImageFilterEngine.swift    # Core Image filter processing
│   │   └── AnimationEngine.swift      # Simple animation frame generation
│   └── Info.plist
└── README.md
```

## Image Filtering

The visual effect filter combines several Core Image filters:

1. **CIBilateralFilter**: Smooths the image while preserving edges
2. **CIVibrance**: Increases color saturation
3. **CIGaussianBlur + CIScreenBlendMode**: Adds a soft glow effect
4. **CITemperatureAndTint**: Adjusts color temperature for a warmer look

This is standard image processing using Core Image - no machine learning or AI.

## Animations

Two simple animation types:

- **Bounce**: Vertical movement using sine wave
- **Wave**: Combined horizontal and vertical movement using sine/cosine

Animations are generated by creating multiple frames with positional transforms applied to the image.

## Export

- **GIF**: Animated GIF export
- **MP4**: H.264 video export
- **PNG**: Static image export

## Running Locally

### Prerequisites

- **Xcode 15.0 or later** (download from Mac App Store or [developer.apple.com](https://developer.apple.com/xcode/))
- **macOS** (required to run Xcode)
- **iOS 17.0+ device** (iPhone or iPad) - recommended for camera testing
  - iOS Simulator can be used, but camera features won't work

### Step-by-Step Setup

1. **Clone the repository**
   ```bash
   git clone https://github.com/Aumyog/LivMoji.git
   cd LivMoji
   ```

2. **Open the project in Xcode**
   ```bash
   open LiveMoji.xcodeproj
   ```
   Or double-click `LiveMoji.xcodeproj` in Finder

3. **Configure code signing**
   - Select the `LiveMoji` project in the navigator
   - Select the `LiveMoji` target
   - Go to "Signing & Capabilities" tab
   - Check "Automatically manage signing"
   - Select your Apple ID team (or create a free Apple Developer account if needed)

4. **Select a device**
   - For best experience: Select a physical iPhone/iPad from the device dropdown (top toolbar)
   - For testing without camera: Select an iOS Simulator (e.g., "iPhone 15 Pro")

5. **Build and run**
   - Press `Cmd + R` or click the "Play" button in Xcode
   - Wait for the app to build and install on your device/simulator

### Testing the App

1. **Photo Filtering**
   - Tap the camera button or photo library button
   - Select or take a photo
   - Tap "Apply Filter" to process the image
   - Wait for processing to complete

2. **Animations**
   - After filtering, select an animation type (Bounce or Wave)
   - The filtered image will be saved with the selected animation

3. **Gallery**
   - View all your filtered images in the Gallery tab
   - Tap an image to view details and export options

4. **Export**
   - Tap an image in the gallery
   - Choose export format (GIF, MP4, or PNG)
   - Share or save the exported file

### Troubleshooting

- **Build errors**: Make sure you're using Xcode 15.0+ and iOS 17.0+ deployment target
- **Code signing issues**: Ensure you've selected a valid development team in Signing & Capabilities
- **Camera not working**: Use a physical device instead of simulator (simulator doesn't have camera access)
- **Permission errors**: Grant camera and photo library permissions when prompted

## What This Demonstrates

- SwiftUI implementation with MVVM architecture
- Core Image filter pipeline
- Vision framework for face detection
- Swift async/await for background processing
- AVFoundation for video/GIF export
- Clean code structure and error handling
